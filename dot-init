#!/bin/bash
#    init-dot-files - creates hard links to dot files, and generates others

cd "`dirname "$(readlink -f "$0")"`"

do-submodules(){
    # submodules are symlinked using git
    cd "submodules/" ; make --no-builtin-rules --no-builtin-variables
}

do-linking(){
    mkdir -p $SRC_DIR
    cat ".source/MAPPING" | dot-deploy --config "$SRC_DIR" --root "$HOME"
}

do-linking
do-submodules
